(window.webpackJsonp=window.webpackJsonp||[]).push([["PageEditMenu"],{anvt:function(e,a,n){"use strict";n.r(a);var t=n("MVZn"),r=n.n(t),i=n("lwsE"),s=n.n(i),u=n("W8MJ"),l=n.n(u),m=n("a1gu"),o=n.n(m),c=n("Nsbk"),h=n.n(c),d=n("PJYZ"),p=n.n(d),g=n("7W2i"),_=n.n(g),f=n("lSNA"),k=n.n(f),v=n("q1tI"),b=n.n(v),E=n("Ty5D"),S=n("/MKj"),M=n("XfWh"),w=n.n(M),y=n("SUMQ"),I=n("55Ip"),C=n("3ZzI"),j=n.n(C),N=n("6ZaM"),P=n.n(N),x=n("ZqOF"),O=n.n(x),W=n("1OZW"),F=n.n(W),J=n("aetC"),L=n("mln2"),Z=n("+sgJ"),V=[{value:"makanan",label:"Makanan"},{value:"minuman",label:"Minuman"}],D=[{value:"ready",label:"Ready"},{value:"stockout",label:"Stock Out"}],T=function(e){function a(){var e,n;s()(this,a);for(var t=arguments.length,i=new Array(t),u=0;u<t;u++)i[u]=arguments[u];return n=o()(this,(e=h()(a)).call.apply(e,[this].concat(i))),k()(p()(n),"state",{item_menu:{nama_menu:"",harga_menu:"",jenis_menu:"makanan",keterangan:"",status:"ready"},errors:{nama_menu:!1,harga_menu:!1,jenis_menu:!1,keterangan:!1},message:"",isSnackbarOpen:!1}),k()(p()(n),"handleInputChange",function(e){n.setState({item_menu:r()({},n.state.item_menu,k()({},e.target.id,e.target.value))}),n.setState({errors:r()({},n.state.errors,k()({},e.target.id,!1))})}),k()(p()(n),"handleSnackbarShow",function(e){n.setState({isSnackbarOpen:!0,message:e}),setTimeout(function(){this.setState({isSnackbarOpen:!1,message:""})}.bind(p()(n)),6e3)}),k()(p()(n),"handleValidate",function(e){var a={};return e.nama_menu||(a.nama_menu=!0),e.harga_menu||(a.harga_menu=!0),e.jenis_menu||(a.jenis_menu=!0),e.keterangan||(a.keterangan=!0),e.status||(a.status=!0),a}),k()(p()(n),"handleEditMenu",function(){var e=n.props.authentication,a=n.state.item_menu,t=n.handleValidate(a);if(n.setState({errors:t}),0===Object.keys(t).length){new Date;var r={nama_menu:a.nama_menu,harga_menu:a.harga_menu,jenis_menu:a.jenis_menu,keterangan:a.keterangan,status:a.status,date_created:n.props.item_menu.date_created};n.props.update_menu(e.token,n.props.item_menu.id,r).then(function(a){var t="Edit Menu ".concat(a.id,"-").concat(a.nama_menu);n.props.create_log(e.token,e,t)}).then(function(){n.handleSnackbarShow("Edit Menu Success")}).catch(function(e){var a="Edit Menu Failed with error message: ".concat(e.message);n.handleSnackbarShow(a)})}}),n}return _()(a,e),l()(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props,n=a.match,t=a.authentication;this.props.get_item_menu(t.token,n.params.id).then(function(a){e.setState({item_menu:a})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this,a=this.props,n=a.classes,t=(a.match,a.location,a.history,this.state),r=t.item_menu,i=t.errors;return b.a.createElement(j.a,{container:!0,justify:"center"},b.a.createElement(j.a,{item:!0,xs:12},b.a.createElement(P.a,{variant:"h5",component:"h3"},"Page Edit Menu")),b.a.createElement(j.a,{item:!0,xs:12},b.a.createElement("div",{className:n.container},b.a.createElement(I.b,{to:"/menu"},b.a.createElement(F.a,{variant:"contained",color:"secondary",className:n.button},"Back")),b.a.createElement("div",{className:n.grow}),b.a.createElement(F.a,{variant:"contained",color:"primary",onClick:this.handleEditMenu},"Edit Menu"))),b.a.createElement(j.a,{item:!0,xs:12},b.a.createElement("form",{className:n.container,noValidate:!0,autoComplete:"off"},b.a.createElement(O.a,{error:i.nama_menu,id:"nama_menu",label:"Nama Menu",className:n.textField,fullWidth:!0,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0},InputProps:{value:r.nama_menu,onChange:this.handleInputChange}}),b.a.createElement(O.a,{error:i.harga_menu,id:"harga_menu",label:"Harga Menu",className:n.textField,fullWidth:!0,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0},InputProps:{type:"number",value:r.harga_menu,onChange:this.handleInputChange}}),b.a.createElement(O.a,{select:!0,error:i.jenis_menu,id:"jenis_menu",label:"Jenis Menu",className:n.textField,fullWidth:!0,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0},value:r.jenis_menu,onChange:this.handleInputChange,SelectProps:{native:!0,MenuProps:{className:n.menu}}},V.map(function(e){return b.a.createElement("option",{key:e.value,value:e.value},e.label)})),b.a.createElement(O.a,{select:!0,error:i.status,id:"status",label:"Status Menu",className:n.textField,fullWidth:!0,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0},value:r.status,onChange:this.handleInputChange,SelectProps:{native:!0,MenuProps:{className:n.menu}}},D.map(function(e){return b.a.createElement("option",{key:e.value,value:e.value},e.label)})),b.a.createElement(O.a,{error:i.keterangan,id:"keterangan",label:"Keterangan",className:n.textField,fullWidth:!0,margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0},InputProps:{value:r.keterangan,onChange:this.handleInputChange}}))),b.a.createElement(J.a,{place:"tr",icon:"add_alert",message:this.state.message||"add menu success",isSnackbarOpen:this.state.isSnackbarOpen,closeNotification:function(){return e.setState({isSnackbarOpen:!1})}}))}}]),a}(v.Component);a.default=w()(E.f,Object(y.withStyles)(function(e){return{container:{display:"flex",flexWrap:"wrap",justifyContent:"center !important"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},menu:{width:200},grow:{flexGrow:1}}},{withTheme:!0}),Object(S.b)(function(e){return{authentication:e.login,item_menu:e.menu.item_menu}},{get_item_menu:L.c,update_menu:L.f,create_log:Z.a}))(T)}}]);